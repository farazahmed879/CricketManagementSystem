@model WebApp.ViewModels.TeamMatchScoredto

@{
    ViewData["Title"] = "Add Match Score";
}
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@functions{
    public string GetAntiXsrfRequestToken()
    {
        return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
}
<br />
<br />
<br />
<br />

<input type="hidden" id="RequestVerificationToken"
       name="RequestVerificationToken" value="@GetAntiXsrfRequestToken()">
<div class="container-fluid">
    <div class='col-md-1'></div>
    <div class="col-md-10">
        <div class="row">
            <ol class="breadcrumb">
                <li><a asp-controller="Home" asp-action="Index">Home</a></li>
                <li><a asp-controller="Matches" asp-action="Index">Match</a></li>
                <li><a>Score Card</a></li>
                <li><a>Add</a></li>
            </ol>
        </div>
        <div class="row">
            @*<center>  <h5 class="pull-center">@Model.Summary2dto.TournamentName</h5></center>*@
            <div class="col-md-12 pull-center">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    @if (Model.Summary2dto.HomeTeamTeamLogo != null)
                    {
                        <div class="col-lg-5 col-md-5 col-sm-5 col-xs-4 bg-blue-gradient">
                            <h4 class="pull-right">@Model.Summary2dto.HomeTeam</h4>
                            <img id="Img" class="pull-right Img-Size-logo" src="~/Home/images/Teams/@Model.Summary2dto.HomeTeamTeamLogo" />
                        </div>
                    }
                    else
                    {
                        <div class="col-lg-5 col-md-5 col-sm-5 col-xs-4 bg-blue-gradient">
                            <h4 class="pull-right">@Model.Summary2dto.HomeTeam</h4>
                            <img id="Img" class="pull-right Img-Size-logo" src="~/Home/images/Teams/noLogo.png" />
                        </div>
                    }

                    @if (Model.Summary2dto.Type != "Tournament")
                    {
                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-4 bg-warning center">
                            <h4 class="font">@Model.Summary2dto.Type Match </h4>
                            <h5>@Model.Summary2dto.GroundName</h5>
                            <h5 id="matchDate">@Model.Summary2dto.DateOfMatch.ToString("dddd, dd MMMM yyyy")</h5>
                        </div>
                    }
                    else
                    {

                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-4 bg-warning center">
                            <h5>@Model.Summary2dto.Stage</h5>
                            <h5>@Model.Summary2dto.GroundName</h5>
                            <h5>@Model.Summary2dto.DateOfMatch.ToString("dddd, dd MMMM yyyy")</h5>
                        </div>

                    }
                    @if (Model.Summary2dto.OpponentTeamLogo != null)
                    {
                        <div class="col-lg-5 col-md-5 col-sm-5 col-xs-4 bg-blue-gradient">
                            <h4 class="pull-left">@Model.Summary2dto.OppponentTeam</h4>
                            <img id="Img" class="pull-left Img-Size-logo" src="~/Home/images/Teams/@Model.Summary2dto.OpponentTeamLogo" />
                        </div>
                    }
                    else
                    {
                        <div class="col-lg-5 col-md-5 col-sm-5 col-xs-4 bg-blue-gradient">
                            <h4 class="pull-left">@Model.Summary2dto.OppponentTeam</h4>
                            <img id="Img" class="pull-left Img-Size-logo" src="~/Home/images/Teams/noLogo.png" />
                        </div>
                    }

                </div>
            </div>
            <section>
                <div class="wizard">
                    <div class="wizard-inner">
                        <ul class="nav nav-tabs" role="tablist">
                            <li role="presentation" class="active">
                                <a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="First Inning">
                                    <span class="round-tab center">
                                        <i class="flaticon-number-one-in-a-circle"></i>
                                    </span>
                                </a>
                            </li>
                            <li role="presentation">
                                <a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Second Inning">
                                    <span class="round-tab">
                                        <i class="flaticon-number-two-in-a-circle"></i>
                                    </span>
                                </a>
                            </li>
                            <li role="presentation">
                                <a href="#complete" data-toggle="tab" aria-controls="complete" role="tab" title="Match Summary">
                                    <span class="round-tab">
                                        <i class="flaticon-schedule"></i>
                                    </span>
                                </a>
                            </li>
                            <li role="presentation">
                                <a href="#fallOfWicket" data-toggle="tab" aria-controls="fallOfWicket" role="tab" title="Fall Of Wickets">
                                    <span class="round-tab">
                                        <i class="fas fa-check"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="tab-content">
                        <div class="tab-pane active" role="tabpanel" id="step1">
                            <div class="col-md-12" style="background-color: maroon; color: white">
                                <h4><b>@Model.Summary2dto.HomeTeam Players</b></h4>
                            </div>
                            <div class="form-group">
                                <div id="filter-panel" class="collapse filter-panel">
                                    <div class="panel-body">
                                        <div class="form-inline" role="form" id="Filters">
                                            <div class="row">
                                                <form class="form-inline" role="form" id="HomeTeamData">
                                                    <input type="hidden" asp-for="@Model.HomeTeamScoreCard.MatchId" id="HomeMatchId" />
                                                    <input type="hidden" asp-for="@Model.HomeTeamScoreCard.TeamId" id="homeTeamId" value="@ViewBag.homeTeamId" />
                                                    <div class="row">
                                                        <div class="col-md-2 margin-top">
                                                            @*<label>Player Name<i class="fa fa-asterisk" style="color: red" aria-hidden="true"></i></label>*@
                                                            <select asp-for="@Model.HomeTeamScoreCard.Position" id="HomePosition" required placeholder="--Select Team--" style="width: 100%" class="js-example-basic-single">
                                                                <option value="" selected>--Select Position--</option>
                                                                <option value=1>1</option>
                                                                <option value=2>2</option>
                                                                <option value=3>3</option>
                                                                <option value=4>4</option>
                                                                <option value=5>5</option>
                                                                <option value=6>6</option>
                                                                <option value=7>7</option>
                                                                <option value=8>8</option>
                                                                <option value=9>9</option>
                                                                <option value=10>10</option>
                                                                <option value=11>11</option>
                                                                <option value=12>12</option>
                                                                <option value=13>13</option>
                                                                <option value=14>14</option>
                                                                <option value=15>15</option>
                                                            </select>
                                                            <span class="text-danger"></span>
                                                        </div>
                                                        <div class="checkbox col-md-1 margin-top" style="margin-top: 10px;">
                                                            <label>
                                                                Inning
                                                                <input type="checkbox" value="true" id="HomeInning" asp-for="@Model.HomeTeamScoreCard.IsPlayedInning">
                                                            </label>
                                                        </div>
                                                        <div class="col-md-3 margin-top">
                                                            <div class="col-md-2">
                                                                <a data-placement="top" data-toggle="tooltip" style="cursor:pointer" title="Add Team"><i data-toggle="modal" data-target="#NewTeamModal" class="fas flaticon-add-1"></i></a>
                                                            </div>
                                                            <div class="col-md-9">
                                                                <select required placeholder="--Select Player--" id="HomeTeamBatsman" style="width: 100%" class="js-example-basic-single" asp-for="@Model.HomeTeamScoreCard.PlayerId">
                                                                    <option value="">--Select Player--</option>
                                                                </select>
                                                                <span class="text-danger"></span>
                                                            </div>


                                                        </div>
                                                        <div class="col-sm-2 margin-top">
                                                            <select asp-items="ViewBag.HowOut" placeholder="--How Out--" id="HomeHowOut" style="width: 100%" class="js-example-basic-single howOut" asp-for="@Model.HomeTeamScoreCard.HowOutId">
                                                                <option value="">--How Out--</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-md-2 margin-top">
                                                            @*<label>Player Name<i class="fa fa-asterisk" style="color: red" aria-hidden="true"></i></label>*@
                                                            <select required placeholder="--Select Team--" id="OppTeamBowler" style="width: 100%" class="js-example-basic-single" asp-for="@Model.HomeTeamScoreCard.Bowler">
                                                                <option value="">--Select Bowler--</option>
                                                            </select>
                                                            <span class="text-danger"></span>
                                                        </div>
                                                        <div class="col-md-2 margin-top">
                                                            @*<label>Player Name<i class="fa fa-asterisk" style="color: red" aria-hidden="true"></i></label>*@
                                                            <select required placeholder="--Select Team--" id="OppTeamFielder" style="width: 100%" class="js-example-basic-single" asp-for="@Model.HomeTeamScoreCard.Fielder">
                                                                <option value="">--Select Fielder--</option>
                                                            </select>
                                                            <span class="text-danger"></span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Runs</label>
                                                                <input id="H_Bat_Runs" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Bat_Runs">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Balls</label>
                                                                <input id="H_Bat_Balls" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Bat_Balls">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">4s</label>
                                                                <input id="H_Four" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Four">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">6s</label>
                                                                <input id="H_Six" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Six">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Overs</label>
                                                                <input id="H_Overs" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Overs">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Runs</label>
                                                                <input id="H_Ball_Runs" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Ball_Runs">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Wickets</label>
                                                                <input id="H_Wickets" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Wickets">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Maidens</label>
                                                                <input id="H_Maiden" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Maiden">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Catches</label>
                                                                <input id="H_Catches" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Catches">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Run Out</label>
                                                                <input id="H_RunOut" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.RunOut">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Stump</label>
                                                                <input id="H_Stump" type="number" class="form-control" asp-for="@Model.HomeTeamScoreCard.Stump">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <ul class="list-inline pull-right">
                                                        <li><input type="button" id="HomeTeamBtn" value="Add" class="btn btn-outlined btn-primary"></li>
                                                        <li><a id="ClearHomeFields" value="Clear" onclick="ClearHomeFields()" class="btn btn-outlined btn-primary">Clear</a></li>
                                                    </ul>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <ul class="list-inline">
                                    <li>
                                        <button id="advSearch" class="btn btn-default" data-toggle="collapse" data-target="#filter-panel">
                                            Add Score
                                        </button>
                                    </li>
                                </ul>
                            </div>

                            <div class="col-md-12">
                                <div class="table-responsive">

                                    <table class="table table-bordered table-striped">
                                        <thead style="background-color: maroon; color: white">
                                            <tr>
                                                <th>
                                                    S.
                                                </th>
                                                <th>
                                                    Batsman
                                                </th>
                                                <th>
                                                    R
                                                </th>
                                                <th>
                                                    B
                                                </th>
                                                <th>
                                                    S/R
                                                </th>
                                                <th>
                                                    H/O
                                                </th>
                                                <th>
                                                    4s
                                                </th>
                                                <th>
                                                    6s
                                                </th>
                                                <th>
                                                    Ct.
                                                </th>
                                                <th>
                                                    R/O
                                                </th>
                                                <th>
                                                    St.
                                                </th>

                                                @if (User.Identity.IsAuthenticated)
                                                {
                                                    <th>Action</th>
                                                }

                                            </tr>
                                        </thead>
                                        <tbody id="HomeTeamTable"></tbody>
                                    </table>

                                </div>
                            </div>


                        </div>
                        <div class="tab-pane" role="tabpanel" id="step2">
                            <div class="col-md-12" style="background-color: maroon; color: white">
                                <h4>@Model.Summary2dto.OppponentTeam Players</h4>
                            </div>
                            <div class="form-group">
                                <div id="filter-panel1" class="collapse filter-panel">
                                    <div class="panel-body">
                                        <div class="form-inline" role="form" id="Filters">
                                            <div class="row">
                                                <form class="form-inline" role="form" id="OpponentTeamData">
                                                    <input type="hidden" asp-for="@Model.OppoTeamScoreCard.MatchId" id="OppMatchId" />
                                                    <input type="hidden" asp-for="@Model.OppoTeamScoreCard.TeamId" id="oppTeamId" />
                                                    <div class="row">
                                                        <div class="col-md-2 margin-top">
                                                            @*<label>Player Name<i class="fa fa-asterisk" style="color: red" aria-hidden="true"></i></label>*@
                                                            <select asp-for="@Model.OppoTeamScoreCard.Position" id="OppPosition" required placeholder="--Select Team--" style="width: 100%" class="js-example-basic-single">
                                                                <option value="" selected>--Select Position--</option>
                                                                <option value=1>1</option>
                                                                <option value=2>2</option>
                                                                <option value=3>3</option>
                                                                <option value=4>4</option>
                                                                <option value=5>5</option>
                                                                <option value=6>6</option>
                                                                <option value=7>7</option>
                                                                <option value=8>8</option>
                                                                <option value=9>9</option>
                                                                <option value=10>10</option>
                                                                <option value=11>11</option>
                                                                <option value=12>12</option>
                                                                <option value=13>13</option>
                                                                <option value=14>14</option>
                                                                <option value=15>15</option>
                                                            </select>
                                                            <span class="text-danger"></span>
                                                        </div>
                                                        <div class="checkbox col-md-2">
                                                            <label>
                                                                Inning
                                                                <input type="checkbox" id="OppInning" value="true" asp-for="@Model.OppoTeamScoreCard.IsPlayedInning">
                                                            </label>
                                                        </div>
                                                        <div class="col-md-2 margin-top">
                                                            <select required placeholder="--Select Player--" id="OppTeamBatsman" style="width: 100%" class="js-example-basic-single" asp-for="@Model.OppoTeamScoreCard.PlayerId">
                                                                <option value="">--Select Player--</option>
                                                            </select>
                                                            <span class="text-danger"></span>
                                                        </div>
                                                        <div class="col-sm-2 margin-top">
                                                            <select asp-items="ViewBag.HowOut" placeholder="--How Out--" id="OppHowOut" style="width: 100%" class="js-example-basic-single howOut" asp-for="@Model.OppoTeamScoreCard.HowOutId">
                                                                <option value="">--How Out--</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-md-2 margin-top">
                                                            @*<label>Player Name<i class="fa fa-asterisk" style="color: red" aria-hidden="true"></i></label>*@
                                                            <select required placeholder="--Select Team--" id="HomeTeamBowler" style="width: 100%" class="js-example-basic-single" asp-for="@Model.OppoTeamScoreCard.Bowler">
                                                                <option value="">--Select Bowler--</option>
                                                            </select>
                                                            <span class="text-danger"></span>
                                                        </div>
                                                        <div class="col-md-2 margin-top">
                                                            @*<label>Player Name<i class="fa fa-asterisk" style="color: red" aria-hidden="true"></i></label>*@
                                                            <select required placeholder="--Select Team--" id="HomeTeamFielder" style="width: 100%" class="js-example-basic-single" asp-for="@Model.OppoTeamScoreCard.Fielder">
                                                                <option value="">--Select Fielder--</option>
                                                            </select>
                                                            <span class="text-danger"></span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Runs</label>
                                                                <input id="O_Bat_Runs" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Bat_Runs">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Balls</label>
                                                                <input id="O_Bat_Balls" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Bat_Balls">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">4s</label>
                                                                <input id="O_Four" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Four">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">6s</label>
                                                                <input id="O_Six" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Six">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Overs</label>
                                                                <input id="O_Overs" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Overs">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Runs</label>
                                                                <input id="O_Ball_Runs" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Ball_Runs">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Wickets</label>
                                                                <input id="O_Wickets" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Wickets">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Maidens</label>
                                                                <input id="O_Maiden" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Maiden">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Catches</label>
                                                                <input id="O_Catches" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Catches">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Run Out</label>
                                                                <input id="O_RunOut" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.RunOut">
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-1">
                                                            <div class="form-group">
                                                                <label class="control-label">Stump</label>
                                                                <input id="O_Stump" type="number" class="form-control" asp-for="@Model.OppoTeamScoreCard.Stump">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <ul class="list-inline pull-right">
                                                        <li><input type="button" id="OpponentTeamBtn" value="Add" class="btn btn-outlined btn-primary"></li>
                                                        <li><a id="ClearHomeFields" value="Clear" onclick="ClearOppFields()" class="btn btn-outlined btn-primary">Clear</a></li>
                                                    </ul>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <ul class="list-inline">
                                    <li>
                                        <button id="advSearch" class="btn btn-default" data-toggle="collapse" data-target="#filter-panel1">
                                            Add Score
                                        </button>
                                    </li>
                                </ul>
                            </div>

                            <div class="col-md-12">
                                <div class="table-responsive">

                                    <table class="table table-bordered table-striped">
                                        <thead style="background-color: maroon; color: white">
                                            <tr>
                                                <th>
                                                    S.
                                                </th>
                                                <th>
                                                    Batsman
                                                </th>
                                                <th>
                                                    R
                                                </th>
                                                <th>
                                                    B
                                                </th>
                                                <th>
                                                    S/R
                                                </th>
                                                <th>
                                                    H/O
                                                </th>
                                                <th>
                                                    4s
                                                </th>
                                                <th>
                                                    6s
                                                </th>
                                                <th>
                                                    Ct.
                                                </th>
                                                <th>
                                                    R/O
                                                </th>
                                                <th>
                                                    St.
                                                </th>

                                                @if (User.Identity.IsAuthenticated)
                                                {
                                                    <th>Action</th>
                                                }

                                            </tr>
                                        </thead>
                                        <tbody id="OppTeamTable"></tbody>
                                    </table>

                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="complete">
                            <div class="col-md-12" style="background-color: maroon; color: white">
                                <h4>Summary</h4>
                            </div>
                            <div class="col-md-12">
                                <form class="form-inline" role="form" id="MatchSummary">

                                    @{

                                        for (int i = 0; i < Model.TeamScore.Count; i++)
                                        {

                                            <div class="row">
                                                <input type="hidden" asp-for="@Model.TeamScore[i].MatchId" />

                                                <div class="col-sm-1">

                                                    @{
                                                        if (i < 1)
                                                        {

                                                            <label>1st Inning Played by</label>
                                                        }
                                                        else
                                                        {
                                                            <label>2nd Inning Played by</label>
                                                        }

                                                    }
                                                </div>

                                                <div class="col-sm-2">
                                                    @{
                                                        if (i < 1)
                                                        {
                                                            ViewBag.teamId = ViewBag.homeTeamId;
                                                            ViewBag.TeamName = Model.Summary2dto.HomeTeam;
                                                        }
                                                        else
                                                        {
                                                            ViewBag.teamId = ViewBag.opponentTeamId;
                                                            ViewBag.TeamName = Model.Summary2dto.OppponentTeam;
                                                        }


                                                    }

                                                    <input type="hidden" asp-for="TeamScore[i].TeamId" value="@ViewBag.teamId" />
                                                    <p class="form-control-static">@ViewBag.TeamName</p>
                                                </div>
                                                <div class="col-sm-1">
                                                    @{
                                                        if (i < 1)
                                                        {

                                                            <label>Set-up Score</label>
                                                        }
                                                        else
                                                        {
                                                            <label>Has Made While Chasing</label>
                                                        }

                                                    }

                                                </div>

                                                <div class="col-sm-1">
                                                    <input asp-for="@Model.TeamScore[i].TotalScore" style="width: 50px" />
                                                </div>
                                                <div class="col-sm-1">
                                                    <label>Loose wickets</label>

                                                </div>
                                                <div class="col-sm-1">
                                                    <input asp-for="@Model.TeamScore[i].Wickets" style="width: 50px" />
                                                </div>
                                                <div class="col-sm-1">
                                                    <label>Given Extras</label>
                                                </div>
                                                <div class="col-sm-1">
                                                    <div class="col-sm-6">
                                                        <label>Byes</label>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <input asp-for="@Model.TeamScore[i].Byes" required style="width: 40px" />
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="col-sm-2">
                                                        <label>Leg-Byes</label>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <input asp-for="@Model.TeamScore[i].LegByes" required style="width: 40px" />
                                                    </div>

                                                    <div class="col-sm-2">
                                                        <label> No-Balls</label>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <input asp-for="@Model.TeamScore[i].NoBalls" required style="width: 40px" />
                                                    </div>

                                                    <div class="col-sm-2">
                                                        <label>Wide-Balls</label>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <input asp-for="@Model.TeamScore[i].Wideballs" required style="width: 40px" />
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    }
                                    <hr />
                                    <ul class="list-inline pull-right">
                                        <li><input type="button" value="Previous" class="btn btn-default prev-step"></li>
                                        <li><input type="button" value="Skip" class="btn btn-default next-step"></li>
                                        <li><input type="button" id="TeamScorebtn" value="Save and continue" class="btn btn-outlined btn-primary next-step"></li>
                                    </ul>
                                </form>
                            </div>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="fallOfWicket">
                            <div class="col-md-12" style="background-color: maroon; color: white">
                                <h4>Fall of wickets</h4>
                            </div>
                            <form class="form-inline" role="form" id="FallOfWicket">
                                <div class="form-inline">
                                    <div class="col-sm-2">
                                        <label class="control-label">Team Name</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">1st</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">2nd</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">3rd</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">4th</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">5th</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">6th</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">7th</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">8th</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">9th</label>
                                    </div>
                                    <div class="col-sm-1">
                                        <label class="control-label">10th</label>
                                    </div>
                                </div>
                                @{

                                    for (int i = 0; i < Model.FallOfWicket.Count; i++)
                                    {

                                        <div class="row">
                                            <input type="hidden" asp-for="@Model.FallOfWicket[i].MatchId" />

                                            <div class="col-sm-2">
                                                @{
                                                    if (i < 1)
                                                    {
                                                        ViewBag.teamId = ViewBag.homeTeamId;
                                                        ViewBag.TeamName = Model.Summary2dto.HomeTeam;
                                                    }
                                                    else
                                                    {
                                                        ViewBag.teamId = ViewBag.opponentTeamId;
                                                        ViewBag.TeamName = Model.Summary2dto.OppponentTeam;
                                                    }


                                                }

                                                <input type="hidden" asp-for="FallOfWicket[i].TeamId" value="@ViewBag.teamId" />
                                                <p class="form-control-static">@ViewBag.TeamName</p>

                                            </div>

                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].First" style="width: 50px" />
                                            </div>
                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].Second" style="width: 50px" />
                                            </div>
                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].Third" style="width: 50px" />
                                            </div>

                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].Fourth" style="width: 50px" />
                                            </div>
                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].Fifth" style="width: 50px" />
                                            </div>
                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].Sixth" style="width: 50px" />
                                            </div>
                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].Seventh" style="width: 50px" />
                                            </div>
                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].Eight" style="width: 50px" />
                                            </div>
                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].Ninth" style="width: 50px" />
                                            </div>
                                            <div class="col-sm-1">
                                                <input asp-for="@Model.FallOfWicket[i].Tenth" style="width: 50px" />
                                            </div>
                                        </div>
                                    }
                                }
                                <hr />
                                <hr />
                                <ul class="list-inline pull-right">
                                    <li><input type="button" value="Previous" class="btn btn-default prev-step"></li>
                                    <li><input type="button" id="FallOfWicketBtn" value="Save and Finish" class="btn btn-outlined btn-primary"></li>
                                </ul>
                            </form>

                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <ul class="list-inline">
                        <li><input type="button" id="BackBtn" value="Close" class="btn btn-danger"></li>
                    </ul>
                    <div id="snackbar"></div>
                </div>
            </section>

        </div>
    </div>

    <div class='col-md-1'></div>

</div>
<div id="PlayerScoreModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 id="pName" class="modal-title"></h4>
            </div>
            <div class="modal-body">
                <div id="rootwizard">
                    <input type="hidden" id="PlayerScoreId" />
                    <input type="hidden" id="TeamId" />
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Runs</label>
                                <input id="battingRuns" type="number" class="form-control">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Balls</label>
                                <input id="battingBalls" type="number" class="form-control">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">4s</label>
                                <input id="fours" type="number" class="form-control">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">6s</label>
                                <input id="sixes" type="number" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Overs</label>
                                <input id="overs" type="number" class="form-control">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Runs</label>
                                <input id="bowlingRuns" type="number" class="form-control">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Wickets</label>
                                <input id="wickets" type="number" class="form-control">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Maidens</label>
                                <input id="maidens" type="number" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Catches</label>
                                <input id="catches" type="number" class="form-control">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Run Out</label>
                                <input id="runOuts" type="number" class="form-control">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Stump</label>
                                <input id="stumps" type="number" class="form-control">
                            </div>
                        </div>

                    </div>
                    <input id="btnFinish" type='button' class='btn btn-outlined btn-primary' data-dismiss="modal" value='Save' />
                </div>


            </div>

        </div>
    </div>
</div>
<div id="NewTeamModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header bg-red">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add Player</h4>
            </div>
            <div class="modal-body">
                <form id="TeamForm" enctype="multipart/form-data">
                    <div class="col-md-6">
                        <div class="form-group label-floating">
                            <label class="control-label">Player Name<i class="fa fa-asterisk" style="color: red" aria-hidden="true"></i></label>
                            <input id="PlayerName" required class="form-control" />
                            <span id="PlayerNameSpan" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group label-floating">
                            <label class="control-label">City<i class="fa fa-asterisk" style="color: red" aria-hidden="true"></i></label>
                            <input id="City" required class="form-control" />
                            <span id="CitySpan" class="text-danger"></span>
                        </div>
                    </div>
                </form>
                <div class="wizard-footer">
                    <div class="pull-left">
                        <input type='button' class='btn btn-default' data-dismiss="modal" value='Cancel' />
                        <input id="AddPlayer" onclick="AddPlayer()" data-dismiss="modal" type="button" class='btn btn-outlined btn-primary' value='Add' />
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>

        </div>
    </div>
</div>
<div id="DeleteModal" class="modal fade" style="z-index: auto" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header bg-red">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Delete</h4>
            </div>
            <div class="modal-body">
                <input type="hidden" id="deleteId" />
                <h3>Are you sure you want to delete this?</h3>

                <div class="wizard-footer">
                    <div class="pull-right">

                    </div>
                    <div class="pull-left">
                        <input type='button' class='btn btn-previous btn-fill btn-primary btn-wd' data-dismiss="modal" value='Cancel' />
                        <input id="deleteBtn" type="button" class='btn btn-finish btn-fill btn-primary btn-wd' data-dismiss="modal" value='Delete' />
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>

        </div>
    </div>
</div>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/plugins/iCheck/square/blue.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.5/lodash.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
    <script src="~/plugins/iCheck/icheck.min.js"></script>

    <script>
        $(document).ready(function () {
            debugger;
            $('.js-example-basic-single').select2();
            $('.fielder').prop('disabled', true);
            $('.bowler').prop('disabled', true);
            var homeTeamId = getUrlParameter('homeTeamId');
            var oppTeamId = getUrlParameter('oppTeamId');
            var matchId = getUrlParameter('matchId');

            $("#homeTeamId").val(homeTeamId);
            $("#oppTeamId").val(oppTeamId);
            $("#HomeMatchId").val(matchId);
            $("#OppMatchId").val(matchId);
            HomeTeamPlayers(homeTeamId);
            OppTeamPlayers(oppTeamId);
            GetHomeTeamScore(matchId, homeTeamId);
            GetOppTeamScore(matchId, oppTeamId);

        });

        $(function () {
            $('input').iCheck({
                checkboxClass: 'icheckbox_square-blue',
                radioClass: 'iradio_square-blue',
                increaseArea: '20%' /* optional */
            });
        });

        $("#btnFinish")
            .off()
            .on("click", async () => await postData());

        const postData = async () => {
            const battingRun = document.getElementById('battingRuns').value;
            const battingBall = document.getElementById('battingBalls').value;
            const battingFour = document.getElementById('fours').value;
            const battingSix = document.getElementById('sixes').value;
            const bowlingOver = document.getElementById('overs').value;
            const bowlingRun = document.getElementById('bowlingRuns').value;
            const bowlingWicket = document.getElementById('wickets').value;
            const bowlingMaiden = document.getElementById('maidens').value;
            const fieldingCatch = document.getElementById('catches').value;
            const fieldingRunOut = document.getElementById('runOuts').value;
            const fieldingStump = document.getElementById('stumps').value;
            const PlayerScoreId = document.getElementById('PlayerScoreId').value;
            const teamId = document.getElementById('TeamId').value;
            const model = {
                bat_Runs: Number(battingRun) || 0,
                bat_Balls: Number(battingBall) || 0,
                four: Number(battingFour) || 0,
                six: Number(battingSix) || 0,
                overs: Number(bowlingOver) || 0,
                ball_Runs: Number(bowlingRun) || 0,
                wickets: Number(bowlingWicket) || 0,
                maiden: Number(bowlingMaiden) || 0,
                catches: Number(fieldingCatch) || 0,
                runOut: Number(fieldingRunOut) || 0,
                stump: Number(fieldingStump) || 0,
                PlayerScoreId: Number(PlayerScoreId),
                TeamId: Number(teamId)
            };
            var header = new Headers();
            header.append("content-type", "application/json");

            const response = await fetch('/PlayerScores/PlayerScoreModal', {
                method: "Put",
                body: JSON.stringify(model),
                credentials: 'same-origin',
                headers: header
            });

            if (response.ok) {
                debugger;
                var homeTeamId = getUrlParameter('homeTeamId');
                var oppTeamId = getUrlParameter('oppTeamId');
                HomeTeamPlayers(homeTeamId);
                OppTeamPlayers(oppTeamId);
            } else {
                alert("Error");
            }
        };

        var HomeTeamPlayers = function (teamId) {
            $.ajax({
                type: "GET",
                url: "/Players/GetAllPlayers/TeamId/" + teamId,
                data: "{}",
                success: function (data) {
                    console.log(data);
                    console.log("asd==asd")
                    var s = '<option value="-1">--Select--</option>';
                    for (var i = 0; i < data.length; i++) {
                        s += '<option value="' + data[i].playerId + '">' + data[i].player_Name + '</option>';
                    }
                    $("#HomeTeamBatsman").html(s);
                    $("#HomeTeamFielder").html(s);
                    $("#HomeTeamBowler").html(s);
                }
            });
        }
        var OppTeamPlayers = function (teamId) {
            $.ajax({
                type: "GET",
                url: "/Players/GetAllPlayers/TeamId/" + teamId,
                data: "{}",
                success: function (data) {
                    console.log(data);
                    console.log("asd==asd")
                    var s = '<option value="-1">--Select--</option>';
                    for (var i = 0; i < data.length; i++) {
                        s += '<option value="' + data[i].playerId + '">' + data[i].player_Name + '</option>';
                    }
                    $("#OppTeamBatsman").html(s);
                    $("#OppTeamFielder").html(s);
                    $("#OppTeamBowler").html(s);
                }
            });
        }

        function Player(PlayerScoreId) {

            var header = new Headers();
            header.append("content-type", "application/json");

            fetch(`/PlayerScores/GetPlayerScoreModal?playerScoreId=${PlayerScoreId}`, {
                credentials: 'same-origin',
                headers: header
            })
                .then(response => {
                    if (response.ok) {
                        response.json()
                            .then(json => {
                                document.getElementById("battingRuns").value = json[0].bat_Runs;
                                document.getElementById("battingBalls").value = json[0].bat_Balls;
                                document.getElementById("fours").value = json[0].four;
                                document.getElementById("sixes").value = json[0].six;
                                document.getElementById("overs").value = json[0].overs;
                                document.getElementById("bowlingRuns").value = json[0].ball_Runs;
                                document.getElementById("wickets").value = json[0].wickets;
                                document.getElementById("maidens").value = json[0].maiden;
                                document.getElementById("catches").value = json[0].catches;
                                document.getElementById("runOuts").value = json[0].runOut;
                                document.getElementById("stumps").value = json[0].stump;
                                document.getElementById("PlayerScoreId").value = json[0].playerScoreId;
                                document.getElementById("pName").innerHTML = json[0].playerName;
                                document.getElementById("TeamId").innerHTML = json[0].teamId;


                            })
                            .catch(err => {
                                console.error(err);
                            })
                    }
                })
                .catch(err => {
                    console.error(err);
                });
        }


        function Delete(playerScoreId) {
            document.getElementById("deleteId").value = playerScoreId;
        }

        var getUrlParameter = function getUrlParameter(sParam) {
            var sPageURL = window.location.search.substring(1),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;

            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');

                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
                }
            }
        };

        var GetHomeTeamScore = function (matchId, homeTeamId) {
            $.ajax({
                type: "GET",
                url: '/PlayerScore/GetHomeTeamScore/MatchId/' + matchId + '/HomeTeamId/' + homeTeamId + '',
                data: "{}",
                success: function (data) {
                    console.log(data);
                    $("#HomeTeamTable").children().remove();
                    for (var i = 0; i < data.length; i++) {
                        debugger;
                        var html = '<tr><td>' + data[i].position + '</td>'
                            + '<td><i style="cursor:pointer;" title="Edit" data-toggle="modal" data-target="#PlayerScoreModal" onclick="Player(' + data[i].playerScoreId + ')">' + data[i].playerName + '</i></td>'
                            + '<td>' + data[i].bat_Runs + '</td>'
                            + '<td>' + data[i].bat_Balls + '</td>'
                            + '<td>' + data[i].bat_Balls + '</td>'
                            + '<td>' + data[i].howOutName + '</td>'
                            + '<td>' + data[i].four + '</td>'
                            + '<td>' + data[i].six + '</td>'
                            + '<td>' + data[i].catches + '</td>'
                            + '<td>' + data[i].runOut + '</td>'
                            + '<td>' + data[i].stump + '</td>'
                            //+ '<td><span><i title="Add Score" data-toggle="modal" data-target="#PlayerScoreModal" onclick="Player(' + data[i].playerScoreId + ')" class="fas fa-walking"></i></span></td>'
                            + '<td><span><i title="Delete" data-toggle="modal" data-target="#DeleteModal" onclick="Delete(' + data[i].playerScoreId + ')" class="fas fa-trash-alt"></i></span></td>'
                            + '</tr>';
                        $("#HomeTeamTable").append(html);
                    }

                }
            });
        }

        var GetOppTeamScore = function (matchId, oppTeamId) {
            $.ajax({
                type: "GET",
                url: '/PlayerScore/GetOpponentTeamScore/MatchId/' + matchId + '/OppTeamId/' + oppTeamId + '',
                data: "{}",
                success: function (data) {
                    console.log("opponent Team Score", data);
                    debugger;
                    $("#OppTeamTable").children().remove();
                    for (var i = 0; i < data.length; i++) {

                        var html = '<tr><td>' + data[i].position + '</td>'
                            + '<td><i style="cursor:pointer;" title="Edit" data-toggle="modal" data-target="#PlayerScoreModal" onclick="Player(' + data[i].playerScoreId + ')" >' + data[i].playerName + '</i></td>'
                            + '<td>' + data[i].bat_Runs + '</td>'
                            + '<td>' + data[i].bat_Balls + '</td>'
                            + '<td>' + data[i].bat_Balls + '</td>'
                            + '<td>' + data[i].howOutName + '</td>'
                            + '<td>' + data[i].four + '</td>'
                            + '<td>' + data[i].six + '</td>'
                            + '<td>' + data[i].catches + '</td>'
                            + '<td>' + data[i].runOut + '</td>'
                            + '<td>' + data[i].stump + '</td>'
                            //+ '<td><span><i title="Add Score" data-toggle="modal" data-target="#PlayerScoreModal" onclick="Player(' + data[i].playerScoreId + ')" class="fas fa-walking"></i></span></td>'
                            + '<td><span><i title="Delete" data-toggle="modal" data-target="#DeleteModal" onclick="Delete(' + data[i].playerScoreId + ')" class="fas fa-trash-alt"></i></span></td>'
                            + '</tr>';
                        $("#OppTeamTable").append(html);
                    }
                }
            });
        }

        function myFunction(data) {
            var snackBar = document.getElementById('snackbar');
            snackBar.textContent = data;
            snackBar.className = "show";
            setTimeout(function () { snackBar.className = snackBar.className.replace("show", ""); }, 3000);
        }
        const globalStates = [];
        $(function () {
            $('#BackBtn').click(function () {
                window.location = '/Matches/Index'
            });
        });
        const openModal = (id) => {
            document.getElementById('Modal_PlayerId').value = document.getElementById(`Grid_${id}__PlayerId`).value;
        };
        //HomeTeamData
        $(function () {
            $('#HomeTeamBtn').click(function () {
                try {
                    var formData = $("#HomeTeamData").serialize();
                    $.ajax(`/PLayerScores/HomeTeamSave`, {
                        data: formData,
                        headers: {
                            'X-CSRF-TOKEN': document.getElementById("RequestVerificationToken").value,
                        },
                        method: "POST"
                    }).done(function (data) {

                        myFunction(data);
                        var homeTeamId = getUrlParameter('homeTeamId');
                        var matchId = getUrlParameter('matchId');
                        GetHomeTeamScore(matchId, homeTeamId);
                        ClearHomeFields();
                        // $('#HomeTeamBtn').attr('disabled', true);

                    }).fail(function () {
                        myFunction(data);
                    });


                } catch (ex) {
                    console.error(ex);
                }
            });
        });
        //OpponentTeamData
        $(function () {
            $('#OpponentTeamBtn').click(function () {
                try {
                    var formData = $("#OpponentTeamData").serialize();
                    $.ajax(`/PLayerScores/OpponentTeamSave`, {
                        data: formData,
                        headers: {
                            'X-CSRF-TOKEN': document.getElementById("RequestVerificationToken").value,
                        },
                        method: "POST"
                    }).done(function (data) {

                        var oppTeamId = getUrlParameter('oppTeamId');
                        var matchId = getUrlParameter('matchId');
                        myFunction(data);
                        GetOppTeamScore(matchId, oppTeamId);
                        ClearOppFields();
                    }).fail(function () {
                        myFunction(data);
                    });

                } catch (ex) {
                    console.error(ex);
                }
            });
        });
        $(function () {
            $('#TeamScorebtn').click(function () {
                try {
                    var formData = $("#MatchSummary").serialize();
                    $.ajax(`/PLayerScores/TeamScoreSave`, {
                        data: formData,
                        headers: {
                            'X-CSRF-TOKEN': document.getElementById("RequestVerificationToken").value,
                        },
                        method: "POST"
                    }).done(function (data) {

                        myFunction(data);
                        $('#TeamScorebtn').attr('disabled', true);

                    }).fail(function () {
                        myFunction(data);
                    });

                } catch (ex) {
                    console.error(ex);
                }
            });
        });
        $(function () {
            $('#FallOfWicketBtn').click(function () {
                try {
                    var formData = $("#FallOfWicket").serialize();
                    $.ajax(`/PLayerScores/FallOfWicketSave`, {
                        data: formData,
                        headers: {
                            'X-CSRF-TOKEN': document.getElementById("RequestVerificationToken").value,
                        },
                        method: "POST"
                    }).done(function (data) {

                        myFunction(data);
                        window.location = '/Matches/Index'

                    }).fail(function (data) {
                        myFunction(data);
                    });

                } catch (ex) {
                    console.error(ex);
                }
            });
        });


        var ClearHomeFields = function () {
            debugger;
            $("#HomePosition").val('').trigger('change');
            $("#HomeInning").prop('checked', false);
            $("#HomeTeamBatsman").val('').trigger('change');
            $("#HomeHowOut").val('').trigger('change');
            $("#HomePosition").val('').trigger('change');
            $("#OppTeamBowler").val('').trigger('change');
            $("#OppTeamFielder").val('').trigger('change');
            $("#H_Bat_Runs").val('').trigger('change');
            $("#H_Bat_Balls").val('').trigger('change');
            $("#H_Four").val('').trigger('change');
            $("#H_Six").val('').trigger('change');
            $("#H_Overs").val('').trigger('change');
            $("#H_Ball_Runs").val('').trigger('change');
            $("#H_Wickets").val('').trigger('change');
            $("#H_Maiden").val('').trigger('change');
            $("#H_Catches").val('').trigger('change');
            $("#H_RunOut").val('').trigger('change');
            $("#H_Stump").val('').trigger('change');
        }

        var ClearOppFields = function () {
            debugger;
            $("#OppPosition").val('').trigger('change');
            $("#OppInning").prop('checked', false);
            $("#OppTeamBatsman").val('').trigger('change');
            $("#OppHowOut").val('').trigger('change');
            $("#OppPosition").val('').trigger('change');
            $("#HomeTeamBowler").val('').trigger('change');
            $("#HomeTeamFielder").val('').trigger('change');
            $("#O_Bat_Runs").val('').trigger('change');
            $("#O_Bat_Balls").val('').trigger('change');
            $("#O_Four").val('').trigger('change');
            $("#O_Six").val('').trigger('change');
            $("#O_Overs").val('').trigger('change');
            $("#O_Ball_Runs").val('').trigger('change');
            $("#O_Wickets").val('').trigger('change');
            $("#O_Maiden").val('').trigger('change');
            $("#O_Catches").val('').trigger('change');
            $("#O_RunOut").val('').trigger('change');
            $("#O_Stump").val('').trigger('change');
        }

        let AddPlayer = function () {
            debugger;
            var playerName = $('#PlayerName').val()
            var city = $('#City').val()
            if (playerName == null || playerName == undefined || playerName == "") {
                document.getElementById('PlayerNameSpan').innerHTML = "Required";
                $('#PlayerNameSpan').css('color', 'red');
            }
            else {
                document.getElementById('PlayerNameSpan').innerHTML = "";
            }

            if (city == null || city == undefined || city == "") {
                document.getElementById('CitySpan').innerHTML = "Required";
                $('#CitySpan').css('color', 'red');
            }
            else {
                document.getElementById('CitySpan').innerHTML = "";
            }


            if (teamName == null || teamName == undefined || teamName == "")
                return
            const TeamName = document.getElementById('PlayerName').value;
            const City = document.getElementById('City').value;
            debugger;
            const model = {
                team_Name: TeamName,

                fileName: null,
            };
            var header = new Headers();
            header.append("content-type", "application/json");

            const response = fetch('/Team/Add', {
                method: "Put",
                body: JSON.stringify(model),
                credentials: 'same-origin',
                headers: header
            }).then(response => {
                if (response.ok) {
                    //teamName.tex('');
                    //city.val('');
                    TeamDropDown();
                }
                else {
                    alert("Error");
                }
            });
        }

        $(document).ready(function () {
            //Initialize tooltips
            $('.nav-tabs > li a[title]').tooltip();

            //Wizard
            $('a[data-toggle="tab"]').on('show.bs.tab', function (e) {

                var $target = $(e.target);

                if ($target.parent().hasClass('disabled')) {
                    return false;
                }
            });

            $(".next-step").click(function (e) {

                var $active = $('.wizard .nav-tabs li.active');
                $active.next().removeClass('disabled');
                nextTab($active);

            });
            $(".prev-step").click(function (e) {

                var $active = $('.wizard .nav-tabs li.active');
                prevTab($active);

            });
        });

        function nextTab(elem) {
            $(elem).next().find('a[data-toggle="tab"]').click();
        }
        function prevTab(elem) {
            $(elem).prev().find('a[data-toggle="tab"]').click();
        }


        $(".howOut").change(function () {
            var id = $(this).val();
            if (id == "1" || id == "3" || id == "4")
                $(this).parent().next().next().find('input').prop('disabled', false);
            else {
                $(this).parent().next().next().find('input').prop('disabled', true);
                $(this).parent().next().next().find('input').val('').trigger('change');
            }

            if (id == "4" || id == "7" || id == "8" || id == "") {
                $(this).parent().next().find('select').prop('disabled', true);
                $(this).parent().next().find('select').val('').trigger('change');
            }

            else {
                $(this).parent().next().find('select').prop('disabled', false);
            }

        });


    </script>
    <style>
        #Img {
            background-image: url('');
            background-size: cover;
            background-position: center;
            height: 50px;
            width: 70px;
        }
    </style>
}

